<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
        "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">


<mapper namespace="com.baozun.scm.primservice.whoperation.dao.warehouse.WarehouseMgmtDao">
    <resultMap id="WarehouseMgmtResultExt" type="com.baozun.scm.primservice.whoperation.model.warehouse.WarehouseMgmt">
    </resultMap>

    <!-- 用于select查询公用抽取的列 -->
    <sql id="warehouseMgmtColumnsExt">
        <![CDATA[
                id as id,
                warehouse_id as warehouseId,
                is_mandatorily_reserved as isMandatorilyReserved,
                is_po_overcharge as isPoOvercharge,
                po_overcharge_proportion as poOverchargeProportion,
                is_asn_overcharge as isAsnOvercharge,
                asn_overcharge_proportion as asnOverchargeProportion,
                is_po_auto_verify as isPoAutoVerify,
                is_asn_auto_verify as isAsnAutoVerify,
                goods_receipt_mode as goodsReceiptMode,
                is_auto_print_bintag as isAutoPrintBintag,
                is_auto_generation_cn as isAutoGenerationCn,
                is_allow_blocked as isAllowBlocked,
                is_sku_needs_scan as isSkuNeedsScan,
                inv_attr_mgmt as invAttrMgmt,
                is_auto_print_diff as isAutoPrintDiff,
                is_hint_quality_testing as isHintQualityTesting,
                is_auto_print_goods_receipt as isAutoPrintGoodsReceipt,
                is_auto_print_platformtag as isAutoPrintPlatformtag,
                sku_mix_number as skuMixNumber,
                is_sortation_container_assign as isSortationContainerAssign,
                is_repeatedly_outbound as isRepeatedlyOutbound,
                is_tabb_inv_total as isTabbInvTotal,
                is_calc_seckill as isCalcSeckill,
                seckill_odo_qtys as seckillOdoQtys,
                is_calc_two_sku_suit as isCalcTwoSkuSuit,
                two_sku_suit_odo_qtys as twoSkuSuitOdoQtys,
                is_calc_suits as isCalcSuits,
                suits_odo_qtys as suitsOdoQtys,
                suits_max_sku_categorys as suitsMaxSkuCategorys,
                default_length_uom_type as defaultLengthUomType,
                default_weight_uom_type as defaultWeightUomType,
                default_volume_uom_type as defaultVolumeUomType,
                default_area_uom_type as defaultAreaUomType,
                is_generate_inventory_task as isGenerateInventoryTask,
                is_inbound_location_barcode as isInboundLocationBarcode,
                is_replenishment_location_barcode as isReplenishmentLocationBarcode,
                is_apply_facility as isApplyFacility,
                is_dieking_check_message as isDiekingCheckMessage,
                is_dieking_seedingwall_message as isDiekingSeedingwallMessage,
                is_facility_check_code as isFacilityCheckCode,
                seeding_mode as seedingMode,
                x_qty as xqty,
                y_qty as yqty,
                z_qty as zqty,
                seeding_odo_qty as seedingOdoQty
        ]]>
    </sql>

    <sql id="warehouseMgmtDynamicWhereExt">
        <!-- ognl访问静态方法的表达式 为@class@method(args),以下为调用rapid中的Ognl.isNotEmpty()方法,还有其它方法如isNotBlank()可以使用，具体请查看Ognl类 -->
        <where>

            <if test="id!=null">
                and id = #{id}
            </if>

            <if test="warehouseId!=null">
                and warehouse_id = #{warehouseId}
            </if>

            <if test="isMandatorilyReserved!=null">
                and is_mandatorily_reserved = #{isMandatorilyReserved}
            </if>

            <if test="isPoOvercharge!=null">
                and is_po_overcharge = #{isPoOvercharge}
            </if>

            <if test="poOverchargeProportion!=null">
                and po_overcharge_proportion = #{poOverchargeProportion}
            </if>

            <if test="isAsnOvercharge!=null">
                and is_asn_overcharge = #{isAsnOvercharge}
            </if>

            <if test="asnOverchargeProportion!=null">
                and asn_overcharge_proportion = #{asnOverchargeProportion}
            </if>

            <if test="isPoAutoVerify!=null">
                and is_po_auto_verify = #{isPoAutoVerify}
            </if>

            <if test="isAsnAutoVerify!=null">
                and is_asn_auto_verify = #{isAsnAutoVerify}
            </if>

            <if test="goodsReceiptMode!=null">
                and goods_receipt_mode = #{goodsReceiptMode}
            </if>

            <if test="isAutoPrintBintag!=null">
                and is_auto_print_bintag = #{isAutoPrintBintag}
            </if>

            <if test="isAutoGenerationCn!=null">
                and is_auto_generation_cn = #{isAutoGenerationCn}
            </if>

            <if test="isAllowBlocked!=null">
                and is_allow_blocked = #{isAllowBlocked}
            </if>

            <if test="isSkuNeedsScan!=null">
                and is_sku_needs_scan = #{isSkuNeedsScan}
            </if>


            <if test="invAttrMgmt!=null and invAttrMgmt!=''">
                and inv_attr_mgmt = #{invAttrMgmt}
            </if>

            <if test="isAutoPrintDiff!=null">
                and is_auto_print_diff = #{isAutoPrintDiff}
            </if>

            <if test="isHintQualityTesting!=null">
                and is_hint_quality_testing = #{isHintQualityTesting}
            </if>

            <if test="isAutoPrintGoodsReceipt!=null">
                and is_auto_print_goods_receipt = #{isAutoPrintGoodsReceipt}
            </if>

            <if test="isAutoPrintPlatformtag!=null">
                and is_auto_print_platformtag = #{isAutoPrintPlatformtag}
            </if>

            <if test="skuMixNumber!=null">
                and sku_mix_number = #{skuMixNumber}
            </if>

            <if test="isSortationContainerAssign!=null">
                and is_sortation_container_assign = #{isSortationContainerAssign}
            </if>

            <if test="isRepeatedlyOutbound!=null">
                and is_repeatedly_outbound = #{isRepeatedlyOutbound}
            </if>

            <if test="isTabbInvTotal!=null">
                and is_tabb_inv_total = #{isTabbInvTotal}
            </if>

            <if test="isCalcSeckill!=null">
                and is_calc_seckill = #{isCalcSeckill}
            </if>

            <if test="seckillOdoQtys!=null">
                and seckill_odo_qtys = #{seckillOdoQtys}
            </if>

            <if test="isCalcTwoSkuSuit!=null">
                and is_calc_two_sku_suit = #{isCalcTwoSkuSuit}
            </if>

            <if test="twoSkuSuitOdoQtys!=null">
                and two_sku_suit_odo_qtys = #{twoSkuSuitOdoQtys}
            </if>

            <if test="isCalcSuits!=null">
                and is_calc_suits = #{isCalcSuits}
            </if>

            <if test="suitsOdoQtys!=null">
                and suits_odo_qtys = #{suitsOdoQtys}
            </if>

            <if test="suitsMaxSkuCategorys!=null">
                and suits_max_sku_categorys = #{suitsMaxSkuCategorys}
            </if>

            <if test="defaultLengthUomType!=null">
                and default_length_uom_type = #{defaultLengthUomType}
            </if>

            <if test="defaultWeightUomType!=null">
                and default_weight_uom_type = #{defaultWeightUomType}
            </if>

            <if test="defaultVolumeUomType!=null">
                and default_volume_uom_type = #{defaultVolumeUomType}
            </if>

            <if test="defaultAreaUomType!=null">
                and default_area_uom_type = #{defaultAreaUomType}
            </if>

            <if test="isGenerateInventoryTask!=null">
                and is_generate_inventory_task = #{isGenerateInventoryTask}
            </if>

            <if test="isInboundLocationBarcode!=null">
                and is_inbound_location_barcode = #{isInboundLocationBarcode}
            </if>

            <if test="isReplenishmentLocationBarcode!=null">
                and is_replenishment_location_barcode = #{isReplenishmentLocationBarcode}
            </if>

            <if test="isApplyFacility!=null">
                and is_apply_facility = #{isApplyFacility}
            </if>

            <if test="isDiekingCheckMessage!=null">
                and is_dieking_check_message = #{isDiekingCheckMessage}
            </if>

            <if test="isDiekingSeedingwallMessage!=null">
                and is_dieking_seedingwall_message = #{isDiekingSeedingwallMessage}
            </if>

            <if test="isFacilityCheckCode!=null">
                and is_facility_check_code = #{isFacilityCheckCode}
            </if>


            <if test="seedingMode!=null and seedingMode!=''">
                and seeding_mode = #{seedingMode}
            </if>

            <if test="xqty!=null">
                and x_qty = #{xqty}
            </if>

            <if test="yqty!=null">
                and y_qty = #{yqty}
            </if>

            <if test="zqty!=null">
                and z_qty = #{zqty}
            </if>

            <if test="seedingOdoQty!=null">
                and seeding_odo_qty = #{seedingOdoQty}
            </if>
        </where>
    </sql>

    <select id="findByOuId" resultMap="WarehouseMgmtResultExt">
        select
        <include refid="warehouseMgmtColumnsExt"/>
        from
        t_bi_warehouse_mgmt
        where
        warehouse_id = #{ouId}
    </select>
</mapper>
